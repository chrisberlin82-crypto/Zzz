# MED Rezeption - Demo auf Comnivox Webspace (Root)
# Deployed direkt in public_html/ -> erreichbar unter comnivox.com

# PHP als API-Backend
RewriteEngine On
RewriteBase /

# API-Anfragen an api.php weiterleiten
RewriteRule ^api/(.*)$ api.php [QSA,L]

# SPA-Fallback: Nicht existierende Dateien -> 404.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ 404.html [L]

# Sicherheit
<FilesMatch "\.(sqlite|db|env|log)$">
    Require all denied
</FilesMatch>

# Caching fuer statische Dateien
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 week"
    ExpiresByType application/javascript "access plus 1 week"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/svg+xml "access plus 1 month"
</IfModule>

# GZIP-Kompression
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/css application/javascript application/json
</IfModule>

# UTF-8
AddDefaultCharset UTF-8
